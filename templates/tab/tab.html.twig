{# Tab component #}
{% set variantClass = variant == 'pills' ? 'nav-pills' : 'nav-tabs' %}
{% set fillClass = fill ? 'nav-fill' : '' %}
{% set justifiedClass = justified ? 'nav-justified' : '' %}
{% set alignmentClass = alignment != 'start' ? 'justify-content-' ~ alignment : '' %}

<ul class="nav {{ variantClass }} {{ fillClass }} {{ justifiedClass }} {{ alignmentClass }} {{ attributes.render('class') }}" {{ attributes.defaults({}) }}>
    {% block tabs %}
        {% for tab in tabs %}
            {% set isActive = activeTab is not null and activeTab == tab.id %}
            <li class="nav-item">
                <a class="nav-link{% if isActive %} active{% endif %}" 
                   {% if tab.link is defined %}href="{{ tab.link }}"{% else %}data-bs-toggle="tab"{% endif %}
                   {% if tab.id is defined %}id="{{ tab.id }}" data-bs-target="#{{ tab.id }}-pane"{% endif %}
                   {% if isActive %}aria-current="page"{% endif %}>
                    {{ tab.label }}
                </a>
            </li>
        {% endfor %}
    {% endblock %}
</ul>

{% if tabs is not empty %}
    <div class="tab-content mt-3">
        {% block content %}
            {% for tab in tabs %}
                {% set isActive = activeTab is not null and activeTab == tab.id %}
                <div class="tab-pane fade{% if isActive %} show active{% endif %}" 
                     {% if tab.id is defined %}id="{{ tab.id }}-pane"{% endif %}
                     role="tabpanel" 
                     {% if tab.id is defined %}aria-labelledby="{{ tab.id }}"{% endif %}>
                    {% if tab.content is defined %}
                        {{ tab.content|raw }}
                    {% endif %}
                </div>
            {% endfor %}
        {% endblock %}
    </div>
{% endif %}
